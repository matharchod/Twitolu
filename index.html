<!DOCTYPE HTML>
<html>
<head>
	<title>twitter search app / jani momolu anderson / front-end developer / chicago, il</title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link href='http://fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,200,700' rel='stylesheet' type='text/css'>
	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!-- Import Animate.CSS -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
	<link rel="stylesheet" type="text/css" href="twitterStyles.css" />
</head>
<body>
	<div id="TwitoluApp" class="main">
		
		<div class="navbar-fixed z-depth-5">
			<nav>
				<div class="nav-wrapper">
					<ul>
						<li class="left">
							<a href="#" data-activates="slide-out" class="slide-out-button">
								<i class="material-icons">menu</i>
							</a>
						</li>
						<li>
							<h1 class="left">UX Diary</h1>
						</li>
						<li class="searchBox center">
							<form>
								<div class="input-field">
									<input v-model="searchTerm" type="search">
									<label class="label-icon" for="search">
										<i class="material-icons">search</i>
									</label>
									<i class="material-icons close"
										v-show="searchTerm"
										@click="searchTerm = ' '">
										refresh
									</i>
								</div>
							</form>
						</li>
					</ul>
				</div>
			</nav>
		</div>

		<nav id="slide-out" class="side-nav center-align gray lighten-4">
			<section>
				<button 
					class="waves-effect waves-light material-icons" 
					@click="onlyFaves()">
					favorite
				</button>	
			</section>
			<section>
				<div id="WordCloud">
					<!-- TAGS -->
					<a href="#!" 
						class="chip waves-effect"
						data-activates="slide-out"
						v-for="word in WordCloud_alpha"
						@click="searchByTag(word.tag)">
						{{ word.tag }}
					</a>
					<!-- /TAGS -->
					<!-- MORE BUTTON -->
					<a href="#!" 
						class="chip waves-effect waves-teal material-icons" 
						v-show="showAllTags === false"
						@click="showAllTags = true">
						more_horiz
					</a>
					<a href="#!" 
						class="chip teal white-text waves-effect waves-light material-icons" 
						v-show="showAllTags === true"
						@click="showAllTags = false">
						more_vert
					</a>
					<!-- / MORE BUTTON -->
					<!-- ADDITIONAL TAGS -->
					<a href="#!" 
						class="chip waves-effect"
						data-activates="slide-out"
						v-for="(word, index, $event) in WordCloud_delta"
						v-show="showAllTags === true"
						v-bind:key="word"
						@click="searchByTag(word.tag)">
						{{ word.tag }}
<!-- 					<b>{{ word.count }}</b> -->
					</a>
					<!-- ADDITIONAL TAGS -->
				</div>
			</section><!-- / WordCloud -->
			<section>
				<button 
					class="waves-effect waves-light material-icons" 
					@click="reset()">
					refresh
				</button>	
			</section>
		</nav><!-- sidebar -->

		<div id="tweets" class="content-section">
				
			<div id="TileBoard">
				
				<ul>
					<!-- ******** CARD ******** -->
					<li 
						v-for="(tile, index, $event) in filteredTiles"
						class="card animated z-depth-2 waves-effect" 
						v-bind:key="tile"
						v-bind:style="switchStyle(tile.tileStatus,tile.faveStatus,index,tile.color)"
						v-bind:class="switchClass(tile.tileStatus,tile.faveStatus)">
						
						<!-- card-content -->
				      	<div class="card-content">
							<p class="link">
								<a v-bind:href="tile.URL" target="_blank">
									{{ tile.text }}
								</a>
							</p>
				      	</div><!-- / card-content -->
						
						<!-- card action -->
						<div class="card-action">
							<div class="left left-align">
								<a href="#!" 
								    v-if="tile.tag"
								    class="tag chip waves-effect"
									@click.prevent="searchByTag(tile.tag)">
									{{ tile.tag }}
								</a>							
							</div>
							<div class="right right-align">
								<!-- RESET button -->
								<button 
								 v-if="tile.tileStatus == 'active'"
								 class="material-icons waves-effect waves-dark" 
								 @click="reset()">
								 refresh
								</button>	
								<!-- RESET button -->
								<!-- FAVE button -->
								<button 
									v-if="tile.faveStatus !== 'active'" 
									v-bind:value="tile.ID" 
									@click="addFave(tile.ID)"
									class="material-icons waves-effect waves-light">
									favorite_border
								</button>
								<button 
									v-else 
									v-bind:value="tile.ID" 
									@click="removeFave(tile.ID)"
									class="material-icons red-text glow waves-effect waves-red">
									favorite
								</button>
								<!-- / FAVE button -->
								<!-- SHARE button -->
								<button 
									class="activator material-icons waves-effect"
									v-bind:value="tile.ID"
									@click="addFave(tile.ID), share($event)">
									share
								</button>
								<!-- /SHARE button -->
							</div>
						</div><!-- / card-action -->
						<div class="card-reveal">
							<span class="card-title">
								<i class="material-icons right grey-text text-lighten-1">
								close
								</i>
							</span>
							<textarea>{{ tile.text }} {{ tile.URL }}</textarea>
						</div>
					</li>
					<!-- ******** end CARD ******** -->
				</ul>
							
			</div><!-- / TileBoard -->
			
		</div><!-- / tweets -->
		
	</div><!-- / main -->

</body>
<!-- The SCRIPTS -->	
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="materialize/js/materialize.min.js"></script>
<script type="text/javascript" src="vue.js"></script>
<script type="text/javascript" src="twitolu.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8132193-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type="text/javascript">
	
	$(function(){
		
		
		//SHARE - SELECT ALL TEXT IN TEXTAREA
		$('textarea').focus(function() {
		    var $this = $(this);
		    $this.select();
		    // Work around Chrome's little problem
		    $this.mouseup(function() {
		        // Prevent further mouseup intervention
		        $this.unbind('mouseup');
		        return false;
		    });
		});


	});
	
	var topScroll = function() {
		$('html, body').animate({ scrollTop: 0 }, 'slow');
	}
	
	var colors = [
		'FF9600',
		'D74B32',
		'AF0064',
		'55237D',
		'004696'
	];
	
	var Tiles = Twitolu.TileFactory(colors);
	var WordCloud = Twitolu.CloudFactory(Tiles);
	var Recipients = Twitolu.Recipients();	
	 	
	var TileBoard = new Vue({
		el: '#TwitoluApp',
		data: function () {
			return {
				searchTerm: '',
				Favorites: {},
				showAllTags: false,
				Tiles,
				Recipients,
				WordCloud
			}
		},
		methods: {
			addFave: function(idx) {
				Twitolu.AddFavorites(idx);
				this.Favorites = Twitolu.Favorites();	 
			},
			removeFave: function(idx) {
				Twitolu.RemoveFavorites(idx)
				this.Favorites = Twitolu.Favorites();	 
			},
			onlyFaves: function() {
				$(this).sideNav('hide');
				Tiles.forEach(function(tile){
					if (tile.faveStatus !== 'active') {
						tile.tileStatus = 'inactive';
					}
				})
			},
			searchByTag: function(tag,index,event) {
				this.searchTerm = tag.toLowerCase();
				$(this).sideNav('hide');
				topScroll();
			},
			share: function() {
				var Faves = this.Favorites;
				Twitolu.Share(Faves);
			},
			reset: function() {
				this.searchTerm = '';
				$(this).sideNav('hide');
				topScroll();
				Tiles.forEach(function(tile) {
					tile.tileStatus = 'active'
				});
			},
			switchClass: function(tileStatus, faveStatus) {				
				if (tileStatus === 'active' && faveStatus === 'active') {
					return 'bounce active';
				} else if (tileStatus === 'active' && faveStatus === 'inactive') {
					return 'active';
				} else if (tileStatus === 'active') {
					return 'flipInX active';
				} else if (tileStatus === 'inactive') {
					return 'inactive';
				} 
			},
			switchStyle: function(tileStatus, faveStatus, index, color) {
				var delay = (index * 100) + 'ms';
				var norm = { animationDelay: '0ms', backgroundColor: color };
				if (tileStatus === 'active' && faveStatus === 'active') {
					return norm;
				} else if (tileStatus === 'active' && faveStatus === 'inactive') {
					return norm;
				} else if (tileStatus === 'active') {
					return { animationDelay: delay, backgroundColor: color };
				} else if (tileStatus === 'inactive') {
					return norm;
				} 
			}
		},
		computed: {
			filteredTiles: function() {
				var self = this;
				return this.Tiles.filter( function(tile) {
					return tile.fullText.toLowerCase().indexOf(self.searchTerm.toLowerCase()) >= 0;
				});
			},
			WordCloud_alpha: function() {
				return this.WordCloud.slice(0,10);
			},
			WordCloud_delta: function() {
				return this.WordCloud.slice(10,(this.WordCloud.length + 1));
			}
		}
	});	
	
</script>

<script type="text/javascript">
		
	
	$(document).ready(function(){
		
		$('.tile').on('animationend',function(){console.log('done')})	
	
		// Initialize collapsible (uncomment the line below if you use the dropdown variation)
		$('.collapsible').collapsible();	
		
		$('.slide-out-button').sideNav();
		
		///$('.collapse').sideNav('hide');
		
// 		$(".slide-out-button").click();
		
		// the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
		$('.modal').modal();
		
// 		$('.modal').modal('open');
		
	});
	

	
	
	
</script>
</html>